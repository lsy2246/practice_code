---
import MainLayout from "../../layouts/MainLayout.astro";
import { getCollection, type CollectionEntry } from "astro:content";
import ScrollReveal from "../../components/aceternity/ScrollReveal.astro";

// è·å–ç¾é£Ÿå†…å®¹é›†åˆ
const cuisines = await getCollection("cuisine");

// æŒ‰ç…§æ—¥æœŸæ’åº
const sortByDate = <T extends { data: { pubDate?: Date | string, updatedDate?: Date | string } }>(a: T, b: T): number => {
  return new Date(b.data.pubDate || b.data.updatedDate || 0).getTime() - 
         new Date(a.data.pubDate || a.data.updatedDate || 0).getTime();
};

// æŒ‰å‘å¸ƒæ—¥æœŸæ’åº
const sortedCuisines = [...cuisines].sort(sortByDate);

// æå–æ‰€æœ‰æ ‡ç­¾
const allTags: {name: string, count: number}[] = [];
sortedCuisines.forEach((cuisine: CollectionEntry<"cuisine">) => {
  cuisine.data.tags.forEach((tag: string) => {
    const existingTag = allTags.find(t => t.name === tag);
    if (existingTag) {
      existingTag.count++;
    } else {
      allTags.push({ name: tag, count: 1 });
    }
  });
});

// æŒ‰ç…§æ ‡ç­¾å‡ºç°æ¬¡æ•°æ’åº
allTags.sort((a, b) => b.count - a.count);

// è·å–æ‰€æœ‰åˆ†ç±»å¹¶è®¡æ•°
const categories: {name: string, count: number}[] = [];
sortedCuisines.forEach((cuisine: CollectionEntry<"cuisine">) => {
  if (cuisine.data.category) {
    const existingCategory = categories.find(c => c.name === cuisine.data.category);
    if (existingCategory) {
      existingCategory.count++;
    } else {
      categories.push({ name: cuisine.data.category, count: 1 });
    }
  }
});

// æŒ‰ç…§åˆ†ç±»å‡ºç°æ¬¡æ•°æ’åº
categories.sort((a, b) => b.count - a.count);

// è·å–æ‰€æœ‰äº§åœ°å¹¶è®¡æ•°
const citys: {name: string, count: number}[] = [];
sortedCuisines.forEach((cuisine: CollectionEntry<"cuisine">) => {
  if (cuisine.data.city) {
    const existingcity = citys.find(o => o.name === cuisine.data.city);
    if (existingcity) {
      existingcity.count++;
    } else {
      citys.push({ name: cuisine.data.city, count: 1 });
    }
  }
});

// æŒ‰ç…§äº§åœ°å‡ºç°æ¬¡æ•°æ’åº
citys.sort((a, b) => b.count - a.count);

// è·å–æ‰€æœ‰å£å‘³å¹¶è®¡æ•°
const tastes: {name: string, count: number}[] = [];
sortedCuisines.forEach((cuisine: CollectionEntry<"cuisine">) => {
  if (cuisine.data.taste) {
    const existingTaste = tastes.find(t => t.name === cuisine.data.taste);
    if (existingTaste) {
      existingTaste.count++;
    } else {
      tastes.push({ name: cuisine.data.taste, count: 1 });
    }
  }
});

// æŒ‰ç…§å£å‘³å‡ºç°æ¬¡æ•°æ’åº
tastes.sort((a, b) => b.count - a.count);

// åˆ†é¡µé€»è¾‘
const itemsPerPage = 9;
// ä»URLå‚æ•°è·å–å½“å‰é¡µç 
const url = new URL(Astro.request.url);
const page = parseInt(url.searchParams.get('page') || '1');
const totalPages = Math.ceil(sortedCuisines.length / itemsPerPage);
const currentPageCuisines = sortedCuisines.slice((page - 1) * itemsPerPage, page * itemsPerPage);

// æœç´¢å’Œç­›é€‰é€»è¾‘ï¼ˆå®é™…åº”ç”¨ä¸­åº”è¯¥æ ¹æ®æŸ¥è¯¢å‚æ•°æ¥ç­›é€‰ï¼‰
const searchQuery = '';
const selectedCategory = '';
const selectedcity = '';
const selectedTaste = '';
const selectedTags: string[] = [];
const sortBy: 'date' | 'name' = 'date';

// åˆ†é¡µå‚æ•°
const queryParams = '';  // åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥æ˜¯åŸºäºç­›é€‰æ¡ä»¶æ„å»ºçš„æŸ¥è¯¢å­—ç¬¦ä¸²
---

<MainLayout title="æ²³åŒ—ç¾é£Ÿé£Ÿè°± - æ²³åŒ—æ¸¸ç¤¼">
  <!-- é£Ÿè°±é£æ ¼å¤´éƒ¨ -->
  <div class="relative overflow-hidden bg-recipe-paper dark:bg-recipe-paper-dark min-h-[400px] flex items-center">
    <!-- çº¸å¼ çº¹ç†å’Œè£…é¥° -->
    <div class="absolute inset-0 bg-[url('/images/recipe-paper-texture.png')] opacity-10"></div>
    <div class="absolute top-0 left-0 w-32 h-32 bg-[url('/images/spoon-fork.png')] bg-no-repeat bg-contain opacity-15 -rotate-12"></div>
    <div class="absolute bottom-0 right-0 w-32 h-32 bg-[url('/images/chef-hat.png')] bg-no-repeat bg-contain opacity-15 rotate-12"></div>
    
    <!-- é£Ÿè°±æ ‡é¢˜åŒºåŸŸ -->
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl mx-auto text-center recipe-card">
        <!-- é£Ÿè°±å¡ç‰‡è£…é¥° -->
        <div class="recipe-card-pins absolute -top-3 left-1/2 transform -translate-x-1/2">
          <div class="w-6 h-6 bg-red-500 dark:bg-red-700 rounded-full absolute -left-16 shadow-md"></div>
          <div class="w-6 h-6 bg-amber-500 dark:bg-amber-700 rounded-full absolute left-16 shadow-md"></div>
        </div>
        
        <!-- æ‰‹å†™é£æ ¼æ ‡é¢˜ -->
        <div class="handwritten-title py-6">
          <h1 class="text-6xl md:text-7xl font-recipe text-brown-900 dark:text-brown-100 mb-2 recipe-title">æ²³åŒ—ç¾é£Ÿé£Ÿè°±</h1>
          <div class="w-3/4 mx-auto h-px bg-brown-300 dark:bg-brown-700 my-6"></div>
          <p class="text-xl text-brown-700 dark:text-brown-300 font-recipe-body mb-6 leading-relaxed">
            æ”¶é›†è‡ªæ²³åŒ—å„åœ°çš„ä¼ ç»Ÿç¾é£Ÿé…æ–¹ï¼Œ
            <br>å®¶ä¼ ç§˜æ–¹ä¸åœ°æ–¹ç‰¹è‰²ï¼Œå°½åœ¨æ­¤é£Ÿè°±
        </p>
      </div>
      
        <!-- é£Ÿè°±å…ƒæ•°æ® -->
        <div class="recipe-metadata flex flex-wrap justify-center gap-8 text-sm text-brown-600 dark:text-brown-400 mb-8">
          <div class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
            <span>{cuisines.length} é“ç»å…¸èœè‚´</span>
          </div>
          <div class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            <span>{citys.length} ä¸ªåœ°æ–¹ç‰¹è‰²</span>
          </div>
          <div class="flex items-center">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
            </svg>
            <span>æ”¶é›†äº 2023 å¹´</span>
          </div>
        </div>
        
        <!-- é£Ÿè°±å¿«é€Ÿæœç´¢ -->
        <div class="recipe-search relative max-w-lg mx-auto mb-6">
          <input 
            type="text" 
            placeholder="æœç´¢èœåã€é£Ÿææˆ–åœ°åŒº..." 
            class="w-full px-4 py-3 border-2 border-secondary-300 dark:border-secondary-700 bg-recipe-paper/80 dark:bg-recipe-paper-dark/90 rounded-md font-recipe-body text-secondary-900 dark:text-secondary-200 placeholder-secondary-500 dark:placeholder-secondary-400 focus:outline-none focus:border-primary-500 dark:focus:border-primary-400"
          />
          <button class="absolute right-3 top-3 text-secondary-500 dark:text-secondary-400 hover:text-primary-600 dark:hover:text-primary-300">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
        
        <!-- é£Ÿè°±æ ‡ç­¾ -->
        <div class="recipe-tags flex flex-wrap justify-center gap-2">
          <a href="#" class="px-3 py-1 bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-200 text-sm rounded-full font-recipe-body hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors">å®¶å¸¸èœ</a>
          <a href="#" class="px-3 py-1 bg-accent-100 dark:bg-accent-900/50 text-accent-800 dark:text-accent-200 text-sm rounded-full font-recipe-body hover:bg-accent-200 dark:hover:bg-accent-800 transition-colors">ä¼ ç»Ÿåèœ</a>
          <a href="#" class="px-3 py-1 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200 text-sm rounded-full font-recipe-body hover:bg-green-200 dark:hover:bg-green-800 transition-colors">åœ°æ–¹ç‰¹è‰²</a>
          <a href="#" class="px-3 py-1 bg-orange-100 dark:bg-orange-900/50 text-orange-800 dark:text-orange-200 text-sm rounded-full font-recipe-body hover:bg-orange-200 dark:hover:bg-orange-800 transition-colors">å°åƒç‚¹å¿ƒ</a>
        </div>
      </div>
    </div>
    
    <!-- è£…é¥°æ€§å›¾æ¡ˆ -->
    <div class="absolute -top-4 -left-4 w-24 h-24 border-t-4 border-l-4 border-brown-300 dark:border-brown-700 opacity-50"></div>
    <div class="absolute -bottom-4 -right-4 w-24 h-24 border-b-4 border-r-4 border-brown-300 dark:border-brown-700 opacity-50"></div>
              </div>
  
  <!-- ä¸»å†…å®¹åŒºåŸŸ - é£Ÿè°±é£æ ¼ -->
  <div class="bg-recipe-paper dark:bg-recipe-paper-dark py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
        <!-- å·¦ä¾§ç­›é€‰åŒºåŸŸ - é£Ÿè°±é£æ ¼ -->
        <div class="lg:col-span-3">
          <div class="sticky top-20 space-y-8">
            <!-- é£Ÿè°±ç­›é€‰å¡ç‰‡ -->
            <div class="recipe-card-item p-6">
              <!-- æœç´¢ç­›é€‰æ¡† -->
              <div class="mb-8">
                <h3 class="text-base font-recipe mb-4 text-brown-800 dark:text-brown-200 flex items-center">
                  <svg class="w-4 h-4 mr-2 text-amber-600 dark:text-amber-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                  </svg>
                  é£Ÿè°±æ£€ç´¢
                </h3>
                <div class="relative">
                  <input
                    type="text"
                    placeholder="è¾“å…¥èœåæˆ–é£Ÿæ..."
                    class="w-full bg-amber-50/50 dark:bg-amber-900/20 border border-brown-300 dark:border-brown-700 px-4 py-2 text-brown-800 dark:text-brown-200 focus:outline-none focus:border-amber-500 dark:focus:border-amber-400 focus:ring-2 focus:ring-amber-200 dark:focus:ring-amber-800/50 rounded-md font-recipe-body text-sm"
                  />
                  <div class="absolute right-3 top-2 text-brown-500 dark:text-brown-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                  </div>
                </div>
              </div>
                
              <!-- èœç³»ç­›é€‰ -->
              <div class="mb-8">
                <h3 class="text-base font-recipe mb-4 text-brown-800 dark:text-brown-200 flex items-center">
                  <svg class="w-4 h-4 mr-2 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2z" />
                  </svg>
                  èœç³»
              </h3>
              <div class="space-y-3">
                  {categories.map((category, index) => (
                    <label class="flex items-center group cursor-pointer font-recipe-body">
                      <div class="w-4 h-4 border border-brown-400 dark:border-brown-600 mr-3 group-hover:border-amber-500 dark:group-hover:border-amber-400 transition-colors"></div>
                      <div class="font-light text-brown-700 dark:text-brown-300 group-hover:text-amber-700 dark:group-hover:text-amber-300 transition-colors flex items-center justify-between w-full">
                        <span>{category.name}</span>
                        <span class="text-amber-600/70 dark:text-amber-500/50 bg-amber-50/80 dark:bg-amber-900/30 px-1.5 py-0.5 rounded-full text-xs">{category.count}</span>
                      </div>
                  </label>
                ))}
              </div>
            </div>
            
              <!-- åœ°åŸŸç­›é€‰ -->
              <div class="mb-8">
                <h3 class="text-base font-recipe mb-4 text-brown-800 dark:text-brown-200 flex items-center">
                  <svg class="w-4 h-4 mr-2 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  åœ°åŸŸç‰¹è‰²
              </h3>
                <div class="grid grid-cols-2 gap-3">
                {citys.map((city) => (
                    <label class="flex items-center group cursor-pointer font-recipe-body">
                      <div class="w-4 h-4 border border-brown-400 dark:border-brown-600 mr-2 group-hover:border-green-500 dark:group-hover:border-green-400 transition-colors"></div>
                      <div class="font-light text-brown-700 dark:text-brown-300 group-hover:text-green-700 dark:group-hover:text-green-300 transition-colors text-sm truncate">
                        <span>{city.name}</span> <span class="text-green-600/70 dark:text-green-500/50 text-xs">({city.count})</span>
                      </div>
                  </label>
                ))}
              </div>
            </div>
            
            <!-- å£å‘³ç­›é€‰ -->
              <div class="mb-8">
                <h3 class="text-base font-recipe mb-4 text-brown-800 dark:text-brown-200 flex items-center">
                  <svg class="w-4 h-4 mr-2 text-orange-600 dark:text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  å‘³é“ç‰¹ç‚¹
              </h3>
                <div class="flex flex-wrap gap-2">
                {tastes.map((taste) => (
                    <label class="inline-flex items-center group cursor-pointer px-3 py-1 bg-orange-50/70 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-800 rounded-full font-recipe-body">
                      <div class="w-3 h-3 border border-orange-400 dark:border-orange-500 mr-2 rounded-full group-hover:bg-orange-400 dark:group-hover:bg-orange-500 transition-colors"></div>
                      <div class="font-light text-orange-800 dark:text-orange-300 text-xs">
                        {taste.name} <span class="text-orange-600/70 dark:text-orange-500/50">({taste.count})</span>
                      </div>
                  </label>
                ))}
              </div>
            </div>
            
              <!-- é£Ÿæç­›é€‰ -->
              <div>
                <h3 class="text-base font-recipe mb-4 text-brown-800 dark:text-brown-200 flex items-center">
                  <svg class="w-4 h-4 mr-2 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                  </svg>
                  ä¸»è¦é£Ÿæ
              </h3>
              <div class="flex flex-wrap gap-2">
                  {allTags.map((tag, i) => {
                    // ä¸ºæ ‡ç­¾ç”Ÿæˆä¸åŒçš„é¢œè‰²
                    const colors = ['amber', 'red', 'green', 'orange', 'amber', 'red'];
                    const colorClasses = {
                      'amber': 'border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-200 hover:border-amber-400 dark:hover:border-amber-700 bg-amber-50/50 dark:bg-amber-900/20',
                      'red': 'border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-200 hover:border-red-400 dark:hover:border-red-700 bg-red-50/50 dark:bg-red-900/20',
                      'green': 'border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 hover:text-green-900 dark:hover:text-green-200 hover:border-green-400 dark:hover:border-green-700 bg-green-50/50 dark:bg-green-900/20',
                      'orange': 'border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300 hover:text-orange-900 dark:hover:text-orange-200 hover:border-orange-400 dark:hover:border-orange-700 bg-orange-50/50 dark:bg-orange-900/20'
                    };
                    const color = colors[i % colors.length] as keyof typeof colorClasses;
                    return (
                      <div class={`inline-block px-3 py-1 text-xs border rounded-full cursor-pointer transition-colors font-recipe-body ${colorClasses[color]}`}>
                    {tag.name}
                      </div>
                    );
                  })}
                </div>
              </div>
            </div>
              
            <!-- çƒ¹é¥ªå°è´´å£« -->
            <div class="recipe-card-item p-5 mt-6">
              <div class="flex items-start space-x-3">
                <div class="text-amber-600 dark:text-amber-400">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
                <div>
                  <h4 class="font-recipe text-base text-brown-800 dark:text-brown-200 mb-2">é£Ÿè°±å°è´´å£«</h4>
                  <p class="text-sm text-brown-700 dark:text-brown-300 leading-relaxed font-recipe-body">
                    çƒ¹é¥ªæ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œæ¯ä¸€é“æ²³åŒ—ç¾é£Ÿéƒ½èåˆäº†ç‹¬ç‰¹çš„åœ°åŸŸæ–‡åŒ–å’Œå†å²ä¼ æ‰¿ï¼Œè®²ç©¶ç”¨æ–™ã€ç«å€™ä¸è°ƒå‘³çš„ç»å¦™å¹³è¡¡ã€‚
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- å³ä¾§é£Ÿè°±å±•ç¤ºåŒº -->
        <div class="lg:col-span-9">
          <!-- ç­›é€‰çŠ¶æ€ -->
          {(searchQuery || selectedCategory || selectedcity || selectedTaste || selectedTags.length > 0) && (
            <div class="mb-8 bg-amber-50/50 dark:bg-amber-900/20 p-4 border-l-4 border-amber-300 dark:border-amber-700 rounded-r-lg">
              <div class="flex flex-wrap items-center gap-3 text-sm text-brown-700 dark:text-brown-300">
                <div class="font-recipe text-xs tracking-wider text-amber-700 dark:text-amber-300 bg-amber-100/70 dark:bg-amber-900/50 px-2 py-1 rounded">ç­›é€‰æ¡ä»¶</div>
                  
                {/* ç­›é€‰æ¡ä»¶æ˜¾ç¤º */}
                  
                <button class="ml-auto text-red-600 hover:text-red-800 dark:hover:text-red-300 text-sm flex items-center space-x-1 bg-white/80 dark:bg-black/30 px-3 py-1 rounded-full font-recipe-body">
                  <span>é‡ç½®</span>
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                </button>
              </div>
            </div>
          )}
          
          <!-- é£Ÿè°±å¡ç‰‡åˆ—è¡¨ -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            {currentPageCuisines.map((cuisine, index) => {
              // éšæœºé£Ÿè°±çº¸å¼ èƒŒæ™¯é¢œè‰²
              const paperColors = [
                'bg-amber-50/80 border-amber-200 dark:bg-amber-900/30 dark:border-amber-800',
                'bg-orange-50/80 border-orange-200 dark:bg-orange-900/30 dark:border-orange-800',
                'bg-red-50/80 border-red-200 dark:bg-red-900/30 dark:border-red-800',
                'bg-green-50/80 border-green-200 dark:bg-green-900/30 dark:border-green-800'
              ];
              const paperColor = paperColors[index % paperColors.length];
              
              return (
              <ScrollReveal animation="fade">
                <a href={`/cuisine/${cuisine.slug}`} class="block group">
                    <div class={`recipe-card-item border transition-all duration-300 ${paperColor}`}>
                      <!-- é£Ÿè°±å¡ç‰‡å¤´éƒ¨ -->
                      <div class="aspect-[4/3] relative overflow-hidden">
                        <div class={`absolute inset-0 bg-recipe-paper dark:bg-recipe-paper-dark flex items-center justify-center`}>
                          <span class="text-brown-400 dark:text-brown-600 font-recipe-body">{cuisine.data.title}</span>
                    </div>
                    
                        <!-- å›¾é’‰è£…é¥° -->
                        <div class="absolute top-3 left-3 w-4 h-4 bg-red-500 dark:bg-red-700 rounded-full shadow-sm"></div>
                        <div class="absolute top-3 right-3 w-4 h-4 bg-amber-500 dark:bg-amber-700 rounded-full shadow-sm"></div>
                        
                        {cuisine.data.category && (
                          <div class="absolute bottom-3 right-3 px-2 py-1 text-xs font-recipe-body bg-white/90 dark:bg-black/70 text-brown-800 dark:text-brown-200 rounded-md shadow-sm border border-brown-200 dark:border-brown-800">
                            {cuisine.data.category}
                          </div>
                        )}
                        
                        <!-- æ¨èæ ‡è®° -->
                        {Math.random() > 0.7 && (
                          <div class="absolute -top-1 -left-1 rotate-12">
                            <div class="bg-red-600 text-white px-6 py-1 text-xs font-recipe transform -rotate-45 shadow-md">
                              æ¨è
                            </div>
                          </div>
                        )}
                      </div>
                      
                      <!-- é£Ÿè°±å†…å®¹ -->
                      <div class="p-5">
                        <h3 class="text-xl font-recipe text-brown-900 dark:text-brown-100 mb-3 group-hover:text-amber-700 dark:group-hover:text-amber-400 transition-colors">
                          {cuisine.data.title}
                        </h3>
                        
                        <!-- é£Ÿè°±å…ƒæ•°æ® -->
                        <div class="flex flex-wrap gap-3 text-sm mb-3">
                          {cuisine.data.city && (
                            <div class="flex items-center px-2 py-0.5 bg-amber-50/80 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 rounded-full">
                              <span class="text-amber-800 dark:text-amber-300 text-xs font-recipe-body">{cuisine.data.city}</span>
                            </div>
                          )}
                          {cuisine.data.taste && (
                            <div class="flex items-center px-2 py-0.5 bg-red-50/80 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-full">
                              <span class="text-red-800 dark:text-red-300 text-xs font-recipe-body">{cuisine.data.taste}</span>
                            </div>
                          )}
                        </div>
                        
                        <!-- é£Ÿè°±æè¿° -->
                        <p class="text-brown-700 dark:text-brown-300 text-sm line-clamp-3 mb-4 font-recipe-body">
                        {cuisine.data.description}
                      </p>
                      
                        <!-- é£Ÿææ ‡ç­¾ -->
                      <div class="flex flex-wrap gap-2 mb-4">
                          {cuisine.data.tags.slice(0, 3).map((tag: string, i: number) => (
                            <span class="px-2 py-0.5 text-xs font-recipe-body bg-brown-100/80 dark:bg-brown-900/30 text-brown-800 dark:text-brown-200 border border-brown-200 dark:border-brown-800 rounded-full">
                              #{tag}
                          </span>
                        ))}
                        {cuisine.data.tags.length > 3 && (
                            <span class="px-2 py-0.5 text-xs font-recipe-body bg-brown-100/80 dark:bg-brown-900/30 text-brown-800 dark:text-brown-200 border border-brown-200 dark:border-brown-800 rounded-full">
                            +{cuisine.data.tags.length - 3}
                          </span>
                        )}
                      </div>
                      
                        <!-- æŸ¥çœ‹è¯¦æƒ… -->
                        <div class="flex justify-between items-center">
                          <div class="text-sm text-amber-700 dark:text-amber-300 flex items-center group-hover:translate-x-1 transition-transform font-recipe-body">
                            æŸ¥çœ‹è¯¦ç»†é£Ÿè°±
                            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                          </div>
                          
                          <!-- é£Ÿè°±æ ‡è®° -->
                          {Math.random() > 0.5 && (
                            <span class="text-xs px-2 py-0.5 bg-orange-100/80 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200 border border-orange-200 dark:border-orange-800 rounded-full font-recipe-body">ä¼ ç»Ÿ</span>
                          )}
                          {Math.random() > 0.7 && (
                            <span class="text-xs px-2 py-0.5 bg-green-100/80 dark:bg-green-900/30 text-green-800 dark:text-green-200 border border-green-200 dark:border-green-800 rounded-full font-recipe-body">å®¶å¸¸</span>
                          )}
                        </div>
                    </div>
                  </div>
                </a>
              </ScrollReveal>
              );
            })}
          </div>
          
          <!-- åˆ†é¡µæ§ä»¶ - é£Ÿè°±é£æ ¼åˆ†é¡µ -->
          <div class="flex justify-center items-center space-x-2 mt-12">
          {totalPages > 1 && (
              <div class="flex flex-wrap gap-2 items-center bg-recipe-paper-light dark:bg-recipe-paper-dark p-4 rounded-lg border border-amber-200 dark:border-amber-800 shadow-md">
                <!-- ä¸Šä¸€é¡µæŒ‰é’® -->
                <a 
                  href={page > 1 ? `?page=${page - 1}${queryParams}` : '#'} 
                  class={`flex items-center px-3 py-1.5 ${
                    page === 1 
                      ? 'text-brown-400 dark:text-brown-600 cursor-not-allowed' 
                      : 'text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900/30'
                  } rounded-md font-recipe-body transition-colors`}
                >
                  <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                  </svg>
                  ä¸Šä¸€é¡µ
                </a>
                
                <!-- é¡µç  -->
                {Array.from({ length: totalPages }, (_, i) => i + 1).map((pageNum) => (
                  <a 
                    href={`?page=${pageNum}${queryParams}`} 
                    class={`px-3 py-1.5 font-recipe ${
                      page === pageNum 
                        ? 'bg-amber-600 text-white dark:bg-amber-700' 
                        : 'text-brown-700 dark:text-brown-300 hover:bg-amber-100 dark:hover:bg-amber-900/30'
                    } rounded-md transition-colors`}
                  >
                    {pageNum}
                  </a>
                ))}
                
                <!-- ä¸‹ä¸€é¡µæŒ‰é’® -->
                <a 
                  href={page < totalPages ? `?page=${page + 1}${queryParams}` : '#'} 
                  class={`flex items-center px-3 py-1.5 ${
                    page === totalPages 
                      ? 'text-brown-400 dark:text-brown-600 cursor-not-allowed' 
                      : 'text-amber-700 dark:text-amber-300 hover:bg-amber-100 dark:hover:bg-amber-900/30'
                  } rounded-md font-recipe-body transition-colors`}
                >
                  ä¸‹ä¸€é¡µ
                  <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            )}
            </div>
          
          <!-- é£Ÿè°±ä¸»é¢˜é¡µè„š -->
          <div class="mt-16 text-center">
            <div class="flex flex-col items-center">
              <div class="text-amber-600 dark:text-amber-400 mb-3">
                <img src="/images/cuisine/chef-hat.svg" alt="Chef Hat" class="w-12 h-12 mx-auto opacity-80" />
              </div>
              <p class="text-brown-700 dark:text-brown-300 font-recipe max-w-2xl mx-auto">
                æ²³åŒ—ç¾é£Ÿå®åº“æ”¶å½•äº†<span class="text-amber-600 dark:text-amber-400 mx-1">{cuisines.length}+</span>ç§ä¼ ç»Ÿä½³è‚´ä¸åœ°æ–¹ç‰¹è‰²å°åƒã€‚
                æ¯ä¸€é“é£Ÿè°±éƒ½æ‰¿è½½ç€æˆ‘ä»¬çš„æ–‡åŒ–è®°å¿†å’Œçƒ¹é¥ªæ™ºæ…§ã€‚å°½æƒ…æ¢ç´¢ï¼Œæ‰¾åˆ°å±äºä½ çš„ç¾é£Ÿçµæ„Ÿï¼
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</MainLayout>

<style>

  .bg-recipe-paper {
    background-color: var(--bg-recipe);
  }

  .bg-recipe-paper-dark {
    background-color: var(--bg-recipe);
  }

  .bg-recipe-paper-light {
    background-color: var(--color-primary-50);
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23f59e0b' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
  }

  .bg-wood-texture {
    background-color: var(--color-secondary-300);
    background-image: url('/images/wood-texture.png');
    background-blend-mode: multiply;
  }

  .bg-wood-texture-dark {
    background-color: var(--color-secondary-900);
    background-image: url('/images/wood-texture.png');
    background-blend-mode: overlay;
  }

  .text-brown-900 {
    color: var(--color-secondary-900);
  }

  .text-brown-800 {
    color: var(--color-secondary-800);
  }

  .text-brown-700 {
    color: var(--color-secondary-700);
  }

  .text-brown-600 {
    color: var(--color-secondary-600);
  }

  .text-brown-500 {
    color: var(--color-secondary-500);
  }

  .text-brown-400 {
    color: var(--color-secondary-400);
  }

  .text-brown-300 {
    color: var(--color-secondary-300);
  }

  .text-brown-200 {
    color: var(--color-secondary-200);
  }

  .text-brown-100 {
    color: var(--color-secondary-100);
  }

  .recipe-card {
    position: relative;
    padding: 1.5rem;
    background-color: #f8f3e9;
    border-radius: 0.5rem;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  :root.dark .recipe-card {
    background-color: #2c2419;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  }

  .recipe-title {
    position: relative;
    display: inline-block;
  }

  .recipe-title::after {
    content: '';
    position: absolute;
    bottom: -0.5rem;
    left: 1rem;
    right: 1rem;
    height: 2px;
    background-color: #b08f77;
    transform: rotate(-0.5deg);
  }

  :root.dark .recipe-title::after {
    background-color: #7c604a;
  }

  /* æ‰‹å†™é£æ ¼çš„ä¸‹åˆ’çº¿ */
  .handwritten-title p {
    position: relative;
  }

  .handwritten-title p::after {
    content: '';
    position: absolute;
    bottom: -0.25rem;
    left: 25%;
    right: 25%;
    height: 1px;
    background-color: #b08f77;
    transform: rotate(-0.25deg);
  }

  :root.dark .handwritten-title p::after {
    background-color: #7c604a;
  }

  /* é£Ÿè°±å¡ç‰‡æ ·å¼ */
  .recipe-card-item {
    position: relative;
    border-radius: 0.75rem;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    background-color: var(--recipe-card-bg, rgba(255, 251, 235, 0.9));
  }

  .dark .recipe-card-item {
    background-color: var(--recipe-card-bg-dark, rgba(120, 53, 15, 0.1));
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  }

  /* éšè—æ»šåŠ¨æ¡ä½†ä¿ç•™åŠŸèƒ½ */
  .hide-scrollbar {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;  /* Chrome, Safari, Opera */
  }

  /* é£Ÿè°±çº¸å¼ çº¹ç†åŠ¨ç”» */
  @keyframes textureFloat {
    0%, 100% { background-position: 0% 0%; }
    50% { background-position: 1% 1%; }
  }

  .bg-recipe-paper, .bg-recipe-paper-dark {
    animation: textureFloat 10s ease-in-out infinite;
    background-size: 200px 200px;
  }

  /* è£…é¥°æ€§å›¾æ¡ˆæ—‹è½¬åŠ¨ç”» */
  @keyframes slowRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .recipe-decoration {
    animation: slowRotate 120s linear infinite;
  }

  /* é£Ÿè°±å¡ç‰‡æ‚¬åœæ•ˆæœ */
  .recipe-card-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  :root.dark .recipe-card-item:hover {
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
  }
</style>

<script>
  // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
  document.addEventListener('DOMContentLoaded', () => {
    // æ£€æµ‹å½“å‰é¢œè‰²æ¨¡å¼
    const isDarkMode = document.documentElement.classList.contains('dark');
    
    // è·å–å…ƒç´ 
    const searchInput = document.querySelector('input[type="text"]') as HTMLInputElement;
    const categoryLabels = document.querySelectorAll('.font-recipe-body');
    const resetButton = document.querySelector('button');
    const recipeCards = document.querySelectorAll('.recipe-card-item');
    const paperBg = document.querySelector('.bg-recipe-paper');
    
    // é£Ÿè°±å¡ç‰‡åˆå§‹æ ·å¼
    recipeCards.forEach((card, index) => {
      // è®¾ç½®åˆå§‹çŠ¶æ€
      (card as HTMLElement).style.opacity = '0';
      (card as HTMLElement).style.transform = 'translateY(20px)';
      (card as HTMLElement).style.transition = 'all 0.4s ease-out';
    });
    
    // ä¸ºé£Ÿè°±å¡ç‰‡æ·»åŠ è¿›åœºåŠ¨ç”»
    setTimeout(() => {
      recipeCards.forEach((card, index) => {
        setTimeout(() => {
          (card as HTMLElement).style.opacity = '1';
          (card as HTMLElement).style.transform = 'translateY(0)';
        }, 100 + (index * 50));
      });
    }, 200);
    
    // é£Ÿè°±å¡ç‰‡æ‚¬åœæ•ˆæœ
    recipeCards.forEach(card => {
      card.addEventListener('mouseenter', () => {
        (card as HTMLElement).style.transform = 'translateY(-5px)';
        (card as HTMLElement).style.boxShadow = isDarkMode 
          ? '0 10px 15px -3px rgba(0, 0, 0, 0.4)' 
          : '0 10px 15px -3px rgba(251, 191, 36, 0.1), 0 4px 6px -2px rgba(251, 191, 36, 0.05)';
      });
      
      card.addEventListener('mouseleave', () => {
        (card as HTMLElement).style.transform = 'translateY(0)';
        (card as HTMLElement).style.boxShadow = isDarkMode 
          ? '0 4px 8px rgba(0, 0, 0, 0.2)' 
          : '0 4px 8px rgba(0, 0, 0, 0.05)';
      });
    });
    
    // æœç´¢æ¡†äº¤äº’æ•ˆæœ
    if (searchInput) {
      searchInput.addEventListener('focus', () => {
        if (searchInput.parentElement) {
          searchInput.parentElement.classList.add('ring-2', 'ring-amber-200');
          if (isDarkMode) {
            searchInput.parentElement.classList.add('ring-amber-800/50');
          }
        }
      });
      
      searchInput.addEventListener('blur', () => {
        if (searchInput.parentElement) {
          searchInput.parentElement.classList.remove('ring-2', 'ring-amber-200', 'ring-amber-800/50');
        }
      });
      
      // æœç´¢åŠŸèƒ½
      searchInput.addEventListener('keyup', (e: KeyboardEvent) => {
        if (e.key === 'Enter') {
          const searchValue = searchInput.value.trim();
          if (searchValue) {
            // æ„å»ºæœç´¢URLå¹¶è·³è½¬
            const currentUrl = new URL(window.location.href);
            currentUrl.searchParams.set('search', searchValue);
            currentUrl.searchParams.delete('page'); // é‡ç½®é¡µç 
            window.location.href = currentUrl.toString();
          }
        }
      });
    }
    
    // ç­›é€‰æ ‡ç­¾ç‚¹å‡»æ•ˆæœ
    const filterLabels = document.querySelectorAll('.recipe-card-item label');
    filterLabels.forEach(label => {
      label.addEventListener('click', () => {
        const checkbox = label.querySelector('div:first-child');
        if (checkbox) {
          // åˆ‡æ¢é€‰ä¸­çŠ¶æ€
          if (checkbox.classList.contains('bg-amber-500') || 
              checkbox.classList.contains('bg-red-500') || 
              checkbox.classList.contains('bg-green-500') || 
              checkbox.classList.contains('bg-orange-500')) {
            checkbox.classList.remove('bg-amber-500', 'bg-red-500', 'bg-green-500', 'bg-orange-500');
          } else {
            const labelText = label.textContent || '';
            if (labelText.includes('èœç³»')) {
              checkbox.classList.add('bg-amber-500');
            } else if (labelText.includes('åœ°åŸŸ')) {
              checkbox.classList.add('bg-green-500');
            } else if (labelText.includes('å‘³é“')) {
              checkbox.classList.add('bg-orange-500');
            } else {
              checkbox.classList.add('bg-red-500');
            }
          }
        }
        
        // æ³¨æ„ï¼šå®é™…ç­›é€‰é€»è¾‘éœ€è¦åç«¯æ”¯æŒï¼Œè¿™é‡Œåªæ˜¯æ·»åŠ è§†è§‰åé¦ˆ
      });
    });
    
    // ç¾é£Ÿæ ‡ç­¾ç‚¹å‡»äº‹ä»¶
    const tagButtons = document.querySelectorAll('.flex-wrap .inline-block');
    tagButtons.forEach(tag => {
      tag.addEventListener('click', () => {
        // ä¸ºæ ‡ç­¾æ·»åŠ é€‰ä¸­æ•ˆæœ
        tag.classList.toggle('ring-2');
        tag.classList.toggle('ring-amber-400');
        tag.classList.toggle('dark:ring-amber-600');
        
        // æ³¨æ„ï¼šå®é™…ç­›é€‰é€»è¾‘éœ€è¦åç«¯æ”¯æŒï¼Œè¿™é‡Œåªæ˜¯æ·»åŠ è§†è§‰åé¦ˆ
      });
    });
    
    // é‡ç½®æŒ‰é’®æ•ˆæœ
    if (resetButton) {
      resetButton.addEventListener('mouseenter', () => {
        resetButton.classList.add('bg-red-50', 'dark:bg-red-900/30');
      });
      
      resetButton.addEventListener('mouseleave', () => {
        resetButton.classList.remove('bg-red-50', 'dark:bg-red-900/30');
      });
      
      resetButton.addEventListener('click', () => {
        // é‡ç½®æ‰€æœ‰ç­›é€‰æ¡ä»¶
        window.location.href = window.location.pathname;
      });
    }
    
    // æ·»åŠ é¡µé¢æ»šåŠ¨åŠ¨ç”»æ•ˆæœ
    const addScrollAnimation = () => {
      const elements = document.querySelectorAll('.recipe-card-item');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate-fade-in');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      
      elements.forEach(el => {
        observer.observe(el);
      });
    };
    
    // å¦‚æœæµè§ˆå™¨æ”¯æŒIntersectionObserverï¼Œæ·»åŠ æ»šåŠ¨åŠ¨ç”»
    if ('IntersectionObserver' in window) {
      addScrollAnimation();
    }
    
    // æ·»åŠ é£Ÿè°±çº¸å¼ æ•ˆæœè£…é¥°å…ƒç´ 
    if (paperBg) {
      // åˆ›å»ºéšæœºè£…é¥°å…ƒç´ 
      const createDecorElement = (className: string, icon: string) => {
        const element = document.createElement('div');
        element.className = className;
        element.innerHTML = icon;
        element.style.position = 'absolute';
        element.style.opacity = '0.15';
        element.style.zIndex = '1';
        return element;
      };
      
      // æ·»åŠ é£Ÿè°±è£…é¥°
      const decorations = [
        { icon: 'ğŸ´', className: 'recipe-decor text-2xl' },
        { icon: 'ğŸ¥„', className: 'recipe-decor text-2xl' },
        { icon: 'ğŸ½ï¸', className: 'recipe-decor text-2xl' },
        { icon: 'ğŸ“', className: 'recipe-decor text-2xl' },
        { icon: 'â­', className: 'recipe-decor text-2xl' }
      ];
      
      decorations.forEach((decor) => {
        const el = createDecorElement(decor.className, decor.icon);
        el.style.left = `${Math.random() * 90}%`;
        el.style.top = `${Math.random() * 90}%`;
        el.style.transform = `rotate(${Math.random() * 360}deg)`;
        (paperBg as HTMLElement).appendChild(el);
      });
    }
  });
  
  // æ·»åŠ é”®ç›˜å¿«æ·é”®æ”¯æŒ
  document.addEventListener('keydown', (e: KeyboardEvent) => {
    // Alt + S èšç„¦æœç´¢æ¡†
    if (e.altKey && e.key === 's') {
      e.preventDefault();
      const searchInput = document.querySelector('input[type="text"]') as HTMLInputElement;
      if (searchInput) {
        searchInput.focus();
      }
    }
  });
</script> 